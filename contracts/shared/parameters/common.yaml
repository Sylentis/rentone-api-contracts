# Common parameter definitions used across APIs

# Vehicle filters
VehicleTypeParam:
  name: vehicleType
  in: query
  required: false
  description: Type of vehicle
  schema:
    $ref: '../schemas/enums.yaml#/VehicleType'
  example: "suv"

TransmissionParam:
  name: transmission
  in: query
  required: false
  description: Transmission type
  schema:
    $ref: '../schemas/enums.yaml#/Transmission'
  example: "automatic"

FuelTypeParam:
  name: fuelType
  in: query
  required: false
  description: Fuel type
  schema:
    $ref: '../schemas/enums.yaml#/FuelType'
  example: "hybrid"

MakeParam:
  name: make
  in: query
  required: false
  description: Vehicle manufacturer/brand (case-insensitive). Multiple values supported.
  schema:
    type: array
    items:
      type: string
      minLength: 1
      maxLength: 50
  example: ["Toyota", "BMW"]

ModelParam:
  name: model
  in: query
  required: false
  description: Vehicle model (case-insensitive). Multiple values supported.
  schema:
    type: array
    items:
      type: string
      minLength: 1
      maxLength: 50
  example: ["RAV4", "X5"]

MinSeatsParam:
  name: minSeats
  in: query
  required: false
  description: Minimum number of seats
  schema:
    type: integer
    minimum: 1
    maximum: 20
  example: 5

MaxSeatsParam:
  name: maxSeats
  in: query
  required: false
  description: Maximum number of seats
  schema:
    type: integer
    minimum: 1
    maximum: 20
  example: 7

MinPriceParam:
  name: minPrice
  in: query
  required: false
  description: Minimum price per day in smallest currency unit (e.g., 10000 = 100.00 PLN)
  schema:
    type: integer
    format: int64
    minimum: 0
  example: 10000

MaxPriceParam:
  name: maxPrice
  in: query
  required: false
  description: Maximum price per day in smallest currency unit (e.g., 50000 = 500.00 PLN)
  schema:
    type: integer
    format: int64
    minimum: 0
  example: 50000

# Pagination
PageParam:
  name: page
  in: query
  required: false
  description: Page number (0-indexed)
  schema:
    type: integer
    minimum: 0
    default: 0
  example: 0

SizeParam:
  name: size
  in: query
  required: false
  description: Number of items per page
  schema:
    type: integer
    minimum: 1
    maximum: 100
    default: 20
  example: 20

# Location filters
CityParam:
  name: city
  in: query
  required: false
  description: Filter by city
  schema:
    type: string
  example: "Warsaw"

BranchIdQueryParam:
  name: branchId
  in: query
  required: false
  description: Filter by specific branch ID (prefixed format)
  schema:
    $ref: '../schemas/common.yaml#/BranchId'

# Availability filtering
PickupDateParam:
  name: pickupDate
  in: query
  required: false
  description: Pickup date and time (ISO 8601 format). If provided, returnDate is required.
  schema:
    type: string
    format: date-time
  example: "2024-12-20T10:00:00Z"

ReturnDateParam:
  name: returnDate
  in: query
  required: false
  description: Return date and time (ISO 8601 format). Required if pickupDate is provided.
  schema:
    type: string
    format: date-time
  example: "2024-12-27T10:00:00Z"

MaxPricePerDayParam:
  name: maxPricePerDay
  in: query
  required: false
  description: Maximum price per day in smallest currency unit (e.g., 30000 = 300.00 PLN)
  schema:
    type: integer
    format: int64
    minimum: 0
  example: 30000

SortParam:
  name: sort
  in: query
  required: false
  description: Sort order
  schema:
    $ref: '../schemas/enums.yaml#/SortOrder'
  example: "price_asc"

# Fuzzy search
SearchParam:
  name: search
  in: query
  required: false
  description: |
    Fuzzy search query. Searches across relevant text fields using PostgreSQL trigram matching.
    Tolerates typos and partial matches (e.g., "toyoda" will match "Toyota").
    Results are sorted by relevance when search is active.
  schema:
    type: string
    minLength: 1
    maxLength: 100
  example: "toyota"
